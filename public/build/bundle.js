var app=function(){"use strict";function e(){}function t(e){return e()}function r(){return Object.create(null)}function n(e){e.forEach(t)}function s(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function o(e,t){e.appendChild(t)}function a(e,t,r){e.insertBefore(t,r||null)}function l(e){e.parentNode.removeChild(e)}function c(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function d(e){return document.createElement(e)}function u(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function f(e){return document.createTextNode(e)}function p(){return f(" ")}function h(){return f("")}function m(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function y(e,t,r){null==r?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function b(e,t){(null!=t||e.value)&&(e.value=t)}function v(e,t,r,n){e.style.setProperty(t,r,n?"important":"")}let g;function w(e){g=e}"serviceWorker"in navigator&&navigator.serviceWorker.register("service-worker.js").then((function(e){console.log("Service worker registered.")})).catch((function(e){console.log("Service worker not registered. This happened:",e)})),window.addEventListener("beforeinstallprompt",e=>{showInstallPromotion()}),window.addEventListener("DOMContentLoaded",()=>{const e=new URL(window.location).searchParams.get("text");if(!e)return;const t=new CustomEvent("share",{detail:e});window.dispatchEvent(t)});const x=[],_=[],$=[],A=[],k=Promise.resolve();let E=!1;function T(e){$.push(e)}function B(){const e=new Set;do{for(;x.length;){const e=x.shift();w(e),P(e.$$)}for(;_.length;)_.pop()();for(let t=0;t<$.length;t+=1){const r=$[t];e.has(r)||(r(),e.add(r))}$.length=0}while(x.length);for(;A.length;)A.pop()();E=!1}function P(e){if(null!==e.fragment){e.update(),n(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(T)}}const S=new Set;function z(e,t){e&&e.i&&(S.delete(e),e.i(t))}function O(e,t,r,n){if(e&&e.o){if(S.has(e))return;S.add(e),(void 0).c.push(()=>{S.delete(e),n&&(r&&e.d(1),n())}),e.o(t)}}function U(e){e&&e.c()}function j(e,r,i){const{fragment:o,on_mount:a,on_destroy:l,after_update:c}=e.$$;o&&o.m(r,i),T(()=>{const r=a.map(t).filter(s);l?l.push(...r):n(r),e.$$.on_mount=[]}),c.forEach(T)}function L(e,t){const r=e.$$;null!==r.fragment&&(n(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function D(e,t){-1===e.$$.dirty[0]&&(x.push(e),E||(E=!0,k.then(B)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function I(t,s,i,o,a,l,c=[-1]){const d=g;w(t);const u=s.props||{},f=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:a,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:r(),dirty:c};let p=!1;f.ctx=i?i(t,u,(e,r,n=r)=>(f.ctx&&a(f.ctx[e],f.ctx[e]=n)&&(f.bound[e]&&f.bound[e](n),p&&D(t,e)),r)):[],f.update(),p=!0,n(f.before_update),f.fragment=!!o&&o(f.ctx),s.target&&(s.hydrate?f.fragment&&f.fragment.l(function(e){return Array.from(e.childNodes)}(s.target)):f.fragment&&f.fragment.c(),s.intro&&z(t.$$.fragment),j(t,s.target,s.anchor),B()),w(d)}class R{$destroy(){L(this,1),this.$destroy=e}$on(e,t){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}$set(){}}function C(t){let r,s,i,c,u,f,h,g,w,x,_;return{c(){var e;r=d("form"),s=d("div"),i=d("div"),c=d("input"),u=p(),f=d("p"),f.innerHTML='\n        Put url <span class="hero-detail"><em>https://www.instagram.com/p/B7JqW9uA1mP/ </em></span>or just the code <span class="hero-detail"><em>B7JqW9uA1mP</em></span>',h=p(),g=d("input"),w=p(),x=d("div"),y(c,"class","input-large svelte-1nyoq64"),y(c,"type","text"),y(c,"placeholder","url"),y(c,"id","url"),v(f,"word-break","break-word"),y(g,"class","button-primary button-large svelte-1nyoq64"),y(g,"type","submit"),g.value="Submit",y(i,"class","column"),y(x,"class","column"),y(s,"class","row"),_=[m(c,"input",t[2]),m(g,"click",(e=t[1],function(t){return t.preventDefault(),e.call(this,t)}))]},m(e,n){a(e,r,n),o(r,s),o(s,i),o(i,c),b(c,t[0]),o(i,u),o(i,f),o(i,h),o(i,g),o(s,w),o(s,x)},p(e,[t]){1&t&&c.value!==e[0]&&b(c,e[0])},i:e,o:e,d(e){e&&l(r),n(_)}}}function F(e,t,r){let{url:n=""}=t;return e.$set=e=>{"url"in e&&r(0,n=e.url)},[n,function(t){!function(e,t){const r=e.$$.callbacks[t.type];r&&r.slice().forEach(e=>e(t))}(e,t)},function(){n=this.value,r(0,n)}]}class q extends R{constructor(e){super(),I(this,e,F,C,i,{url:0})}}function G(e,t,r){const n=e.slice();return n[7]=t[r],n[9]=r,n}function H(e,t,r){const n=e.slice();return n[3]=t[r],n[6]=r,n}function M(e){let t,r,n,s;function i(e,t){return"GraphImage"==e[7].typename?W:N}let c=i(e),u=c(e);return{c(){t=d("div"),r=d("div"),u.c(),y(r,"popover-bottom","Download"),y(r,"class","media svelte-m4modo"),y(r,"data-source",n=e[7].src),y(t,"class","column"),s=m(r,"click",e[2])},m(e,n){a(e,t,n),o(t,r),u.m(r,null)},p(e,t){c===(c=i(e))&&u?u.p(e,t):(u.d(1),u=c(e),u&&(u.c(),u.m(r,null))),1&t&&n!==(n=e[7].src)&&y(r,"data-source",n)},d(e){e&&l(t),u.d(),s()}}}function N(e){let t,r,n;return{c(){t=d("video"),r=d("source"),r.src!==(n=e[7].src)&&y(r,"src",n),y(r,"type","video/mp4"),y(t,"class","media-video svelte-m4modo"),t.controls=!0},m(n,s){a(n,t,s),o(t,r),e[4](t)},p(e,t){1&t&&r.src!==(n=e[7].src)&&y(r,"src",n)},d(r){r&&l(t),e[4](null)}}}function W(e){let t,r;return{c(){t=d("img"),t.src!==(r=e[7].src)&&y(t,"src",r),y(t,"alt","media")},m(e,r){a(e,t,r)},p(e,n){1&n&&t.src!==(r=e[7].src)&&y(t,"src",r)},d(e){e&&l(t)}}}function J(e){let t,r=e[7]&&e[7].src&&e[7].typename&&M(e);return{c(){r&&r.c(),t=h()},m(e,n){r&&r.m(e,n),a(e,t,n)},p(e,n){e[7]&&e[7].src&&e[7].typename?r?r.p(e,n):(r=M(e),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(e){r&&r.d(e),e&&l(t)}}}function V(e){let t,r,n=e[3],s=[];for(let t=0;t<n.length;t+=1)s[t]=J(G(e,n,t));return{c(){t=d("div");for(let e=0;e<s.length;e+=1)s[e].c();r=p(),y(t,"class","row")},m(e,n){a(e,t,n);for(let e=0;e<s.length;e+=1)s[e].m(t,null);o(t,r)},p(e,i){if(7&i){let o;for(n=e[3],o=0;o<n.length;o+=1){const a=G(e,n,o);s[o]?s[o].p(a,i):(s[o]=J(a),s[o].c(),s[o].m(t,r))}for(;o<s.length;o+=1)s[o].d(1);s.length=n.length}},d(e){e&&l(t),c(s,e)}}}function X(t){let r,n=t[0],s=[];for(let e=0;e<n.length;e+=1)s[e]=V(H(t,n,e));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();r=h()},m(e,t){for(let r=0;r<s.length;r+=1)s[r].m(e,t);a(e,r,t)},p(e,[t]){if(7&t){let i;for(n=e[0],i=0;i<n.length;i+=1){const o=H(e,n,i);s[i]?s[i].p(o,t):(s[i]=V(o),s[i].c(),s[i].m(r.parentNode,r))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}},i:e,o:e,d(e){c(s,e),e&&l(r)}}}function K(e,t,r){let n,{media:s=[]}=t;const i=(e,t)=>Array(Math.ceil(e.length/t)).fill().map((e,r)=>r*t).map(r=>e.slice(r,r+t));return e.$set=e=>{"media"in e&&r(0,s=e.media)},e.$$.update=()=>{1&e.$$.dirty&&r(0,s=i(s,3)),3&e.$$.dirty&&s&&n&&n.load()},[s,n,({target:e})=>{const t=e.getAttribute("data-source");t&&window.open(t)},i,function(e){_[e?"unshift":"push"](()=>{r(1,n=e)})}]}class Y extends R{constructor(e){super(),I(this,e,K,X,i,{media:0})}}function Q(t){let r,n,s,i,c,f,h,m;return{c(){r=d("div"),r.innerHTML='<div class="bubbles svelte-1l7kx9r"><div class="bubble svelte-1l7kx9r" style="--size:4.912506037188187rem; --distance:6.14787571407696rem; --position:22.18967512415059%; --time:2.1309010208875216s; --delay:-2.332279094101697s;"></div> \n    <div class="bubble svelte-1l7kx9r" style="--size:3.719255056604844rem; --distance:7.988123301881847rem; --position:47.05905936101202%; --time:2.3191985647987092s; --delay:-3.294158456122387s;"></div> \n    <div class="bubble svelte-1l7kx9r" style="--size:4.901118793319466rem; --distance:8.68522004257672rem; --position:87.19264673141181%; --time:2.5955253815459165s; --delay:-2.927829021110321s;"></div> \n    <div class="bubble svelte-1l7kx9r" style="--size:2.660078520382484rem; --distance:8.328686905545165rem; --position:17.323040354222496%; --time:3.2866055977813176s; --delay:-3.379450850593709s;"></div> \n    <div class="bubble svelte-1l7kx9r" style="--size:4.609942212316847rem; --distance:6.085491612143289rem; --position:13.766640760272931%; --time:3.4164887734104594s; --delay:-2.418852261107577s;"></div> \n    <div class="bubble svelte-1l7kx9r" style="--size:5.476842831490539rem; --distance:7.771949189133904rem; --position:68.09399021091596%; --time:3.185386666601367s; --delay:-3.404941988961582s;"></div> \n    <div class="bubble svelte-1l7kx9r" style="--size:4.716177122670276rem; --distance:7.833459100926771rem; --position:60.88069830608457%; --time:2.298334604563237s; --delay:-2.607977104110991s;"></div> \n    <div class="bubble svelte-1l7kx9r" style="--size:5.569889431898744rem; --distance:9.132169281516235rem; --position:12.428452511589942%; --time:3.169934595175513s; --delay:-2.682712055895175s;"></div> \n    <div class="bubble svelte-1l7kx9r" style="--size:2.904842606721373rem; --distance:7.899550848495968rem; --position:93.44591370099168%; --time:2.621287589768753s; --delay:-2.6085190616239498s;"></div> \n    <div class="bubble svelte-1l7kx9r" style="--size:5.949769964992402rem; --distance:6.269318866582038rem; --position:42.905113601741135%; --time:3.298249772627477s; --delay:-2.06884082288799s;"></div> \n    <div class="bubble svelte-1l7kx9r" style="--size:3.7006048940321685rem; --distance:6.755781202925411rem; --position:45.2887109048021%; --time:2.536274927670129s; --delay:-3.771102164311468s;"></div> \n    <div class="bubble svelte-1l7kx9r" style="--size:3.7163737710361193rem; --distance:8.692431502658838rem; --position:30.09393342653309%; --time:3.0608176903386344s; --delay:-3.6276480257082206s;"></div> \n    <div class="bubble svelte-1l7kx9r" style="--size:3.1530256233391976rem; --distance:6.789182046893444rem; --position:10.751865732811662%; --time:2.5046706909276106s; --delay:-3.07112516779885s;"></div> \n    <div class="bubble svelte-1l7kx9r" style="--size:5.442182238372267rem; --distance:6.769247235062068rem; --position:51.96872727643351%; --time:3.5516770962214133s; --delay:-2.4126429528542457s;"></div> \n    <div class="bubble svelte-1l7kx9r" style="--size:3.5277882595175134rem; --distance:7.9720773329592225rem; --position:1.210935786603872%; --time:3.788895548561599s; --delay:-2.168131375154623s;"></div> \n    <div class="bubble svelte-1l7kx9r" style="--size:5.412548321462573rem; --distance:7.158249238928366rem; --position:7.113711896270408%; --time:2.7659432172335214s; --delay:-3.9726264019268487s;"></div> \n    <div class="bubble svelte-1l7kx9r" style="--size:3.13375107042435rem; --distance:8.165465475288649rem; --position:37.691270776140925%; --time:3.2020347678318637s; --delay:-2.401401766453998s;"></div> \n    <div class="bubble svelte-1l7kx9r" style="--size:4.576481353258635rem; --distance:8.450086022661651rem; --position:72.29658161404329%; --time:3.5167227685301037s; --delay:-2.4341469516503773s;"></div> \n    <div class="bubble svelte-1l7kx9r" style="--size:4.495680049310753rem; --distance:6.294330994198656rem; --position:-1.1097032991762559%; --time:3.0317643959946103s; --delay:-3.925413018104399s;"></div> \n    <div class="bubble svelte-1l7kx9r" style="--size:2.100899481661153rem; --distance:6.982364581016784rem; --position:31.737296118543277%; --time:2.679811762001355s; --delay:-2.8197778174003854s;"></div> \n    <div class="bubble svelte-1l7kx9r" style="--size:2.858235426352401rem; --distance:9.556469960310924rem; --position:13.425770108974088%; --time:3.0210828526248337s; --delay:-2.0149729932963707s;"></div> \n    <div class="bubble svelte-1l7kx9r" style="--size:5.141757344609632rem; --distance:8.965250232251087rem; --position:45.11890765694271%; --time:3.489220381184109s; --delay:-3.8494265918951194s;"></div> \n    <div class="bubble svelte-1l7kx9r" style="--size:4.638786551246499rem; --distance:9.913221244280098rem; --position:66.78020578524398%; --time:2.6776569700757613s; --delay:-3.7275758297505357s;"></div> \n    <div class="bubble svelte-1l7kx9r" style="--size:4.1187558075350585rem; --distance:9.83347156194614rem; --position:73.46582326698116%; --time:2.715186941605962s; --delay:-3.685436312488823s;"></div></div> \n  <div class="content svelte-1l7kx9r">\n    Made with ‚ù§ by Husnul Anwari\n    <a href="https://github.com/husnulhamidiah/instagram-downloader" class="svelte-1l7kx9r">Github</a></div>',n=p(),s=u("svg"),i=u("defs"),c=u("filter"),f=u("feGaussianBlur"),h=u("feColorMatrix"),m=u("feComposite"),y(r,"class","footer svelte-1l7kx9r"),y(f,"in","SourceGraphic"),y(f,"stdDeviation","10"),y(f,"result","blur"),y(h,"in","blur"),y(h,"mode","matrix"),y(h,"values","1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9"),y(h,"result","blob"),y(m,"in","SourceGraphic"),y(m,"in2","blob"),y(m,"operator","atop"),y(c,"id","blob"),v(s,"position","fixed"),v(s,"top","100vh")},m(e,t){a(e,r,t),a(e,n,t),a(e,s,t),o(s,i),o(i,c),o(c,f),o(c,h),o(c,m)},p:e,i:e,o:e,d(e){e&&l(r),e&&l(n),e&&l(s)}}}class Z extends R{constructor(e){super(),I(this,e,null,Q,i,{})}}var ee="URLSearchParams"in self,te="Symbol"in self&&"iterator"in Symbol,re="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),ne="FormData"in self,se="ArrayBuffer"in self;if(se)var ie=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],oe=ArrayBuffer.isView||function(e){return e&&ie.indexOf(Object.prototype.toString.call(e))>-1};function ae(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function le(e){return"string"!=typeof e&&(e=String(e)),e}function ce(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return te&&(t[Symbol.iterator]=function(){return t}),t}function de(e){this.map={},e instanceof de?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function ue(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function fe(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function pe(e){var t=new FileReader,r=fe(t);return t.readAsArrayBuffer(e),r}function he(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function me(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:re&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:ne&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:ee&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():se&&re&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=he(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):se&&(ArrayBuffer.prototype.isPrototypeOf(e)||oe(e))?this._bodyArrayBuffer=he(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):ee&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},re&&(this.blob=function(){var e=ue(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?ue(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(pe)}),this.text=function(){var e,t,r,n=ue(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=fe(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},ne&&(this.formData=function(){return this.text().then(ve)}),this.json=function(){return this.text().then(JSON.parse)},this}de.prototype.append=function(e,t){e=ae(e),t=le(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},de.prototype.delete=function(e){delete this.map[ae(e)]},de.prototype.get=function(e){return e=ae(e),this.has(e)?this.map[e]:null},de.prototype.has=function(e){return this.map.hasOwnProperty(ae(e))},de.prototype.set=function(e,t){this.map[ae(e)]=le(t)},de.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},de.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),ce(e)},de.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),ce(e)},de.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),ce(e)},te&&(de.prototype[Symbol.iterator]=de.prototype.entries);var ye=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function be(e,t){var r,n,s=(t=t||{}).body;if(e instanceof be){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new de(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,s||null==e._bodyInit||(s=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new de(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),ye.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(s)}function ve(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),s=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(s))}})),t}function ge(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new de(t.headers),this.url=t.url||"",this._initBody(e)}be.prototype.clone=function(){return new be(this,{body:this._bodyInit})},me.call(be.prototype),me.call(ge.prototype),ge.prototype.clone=function(){return new ge(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new de(this.headers),url:this.url})},ge.error=function(){var e=new ge(null,{status:0,statusText:""});return e.type="error",e};var we=[301,302,303,307,308];ge.redirect=function(e,t){if(-1===we.indexOf(t))throw new RangeError("Invalid status code");return new ge(null,{status:t,headers:{location:e}})};var xe=self.DOMException;try{new xe}catch(e){(xe=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack}).prototype=Object.create(Error.prototype),xe.prototype.constructor=xe}function _e(e,t){return new Promise((function(r,n){var s=new be(e,t);if(s.signal&&s.signal.aborted)return n(new xe("Aborted","AbortError"));var i=new XMLHttpRequest;function o(){i.abort()}i.onload=function(){var e,t,n={status:i.status,statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",t=new de,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var s=r.join(":").trim();t.append(n,s)}})),t)};n.url="responseURL"in i?i.responseURL:n.headers.get("X-Request-URL");var s="response"in i?i.response:i.responseText;r(new ge(s,n))},i.onerror=function(){n(new TypeError("Network request failed"))},i.ontimeout=function(){n(new TypeError("Network request failed"))},i.onabort=function(){n(new xe("Aborted","AbortError"))},i.open(s.method,s.url,!0),"include"===s.credentials?i.withCredentials=!0:"omit"===s.credentials&&(i.withCredentials=!1),"responseType"in i&&re&&(i.responseType="blob"),s.headers.forEach((function(e,t){i.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",o),i.onreadystatechange=function(){4===i.readyState&&s.signal.removeEventListener("abort",o)}),i.send(void 0===s._bodyInit?null:s._bodyInit)}))}_e.polyfill=!0,self.fetch||(self.fetch=_e,self.Headers=de,self.Request=be,self.Response=ge);var $e=self.fetch.bind(self);function Ae(e){let t;return{c(){t=d("blockquote"),t.innerHTML="<p><em>Media not found.</em></p>",y(t,"class","alert danger svelte-1riylsv")},m(e,r){a(e,t,r)},d(e){e&&l(t)}}}function ke(e){let t,r,n,s,i,c,u,f,h,m,b=!e[2]&&Ae();function v(t){e[6].call(null,t)}let g={};void 0!==e[0]&&(g.url=e[0]);const w=new q({props:g});_.push(()=>function(e,t,r){const n=e.$$.props[t];void 0!==n&&(e.$$.bound[n]=r,r(e.$$.ctx[n]))}(w,"url",v)),w.$on("click",e[3]);const x=new Y({props:{media:e[1]}}),$=new Z({});return{c(){t=d("div"),r=d("header"),r.innerHTML="<h1>Yet! Another instagram downloader.</h1>",n=p(),s=d("main"),b&&b.c(),i=p(),U(w.$$.fragment),u=p(),U(x.$$.fragment),f=p(),h=d("footer"),U($.$$.fragment),y(r,"class","container header svelte-1riylsv"),y(s,"class","container main svelte-1riylsv"),y(t,"class","app svelte-1riylsv")},m(e,l){a(e,t,l),o(t,r),o(t,n),o(t,s),b&&b.m(s,null),o(s,i),j(w,s,null),o(s,u),j(x,s,null),o(t,f),o(t,h),j($,h,null),m=!0},p(e,[t]){e[2]?b&&(b.d(1),b=null):b||(b=Ae(),b.c(),b.m(s,i));const r={};var n;!c&&1&t&&(c=!0,r.url=e[0],n=()=>c=!1,A.push(n)),w.$set(r);const o={};2&t&&(o.media=e[1]),x.$set(o)},i(e){m||(z(w.$$.fragment,e),z(x.$$.fragment,e),z($.$$.fragment,e),m=!0)},o(e){O(w.$$.fragment,e),O(x.$$.fragment,e),O($.$$.fragment,e),m=!1},d(e){e&&l(t),b&&b.d(),L(w),L(x),L($)}}}function Ee(e,t,r){let n,s,i=!0;const o=async()=>{try{const e=a(n),{graphql:{shortcode_media:t}}=await(e=>$e(`https://www.instagram.com/p/${e}/?__a=1`).then(e=>e.json()))(e),o=await l(t);r(1,s=Array.isArray(o)?o:[o]),r(0,n=""),r(2,i=!0)}catch(e){r(1,s=[]),r(0,n=""),r(2,i=!1)}},a=e=>{const t=e.match(/p\/([_a-z0-9]+)/gi);return t?t.shift().substring(2):e},l=async e=>{switch(e.__typename){case"GraphImage":return{typename:e.__typename,src:e.display_resources.pop().src};case"GraphVideo":return{typename:e.__typename,src:e.video_url};case"GraphSidecar":const t=e.edge_sidecar_to_children.edges.map(e=>l(e.node));return await Promise.all(t);default:return{typename:e.__typename,src:e.display_url}}};return window.addEventListener("share",e=>{r(0,n=e.detail),o()},!1),[n,s,i,o,a,l,function(e){n=e,r(0,n)}]}return new class extends R{constructor(e){super(),I(this,e,Ee,ke,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
